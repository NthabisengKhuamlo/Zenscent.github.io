<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Lemongrass Diffuser - A Fresh and Citrusy Aroma">
<meta name="keywords" content="Zenscents, Lemongrass, Diffuser, Fragrance, Fresh, Citrusy">
<meta name="author" content="Nthabiseng Khumalo">
<title>Lemongrass Diffuser | Zenscents</title>
<link rel="stylesheet" href="styles.css">
<style>
    /* ---------- GENERAL ---------- */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f5f5f5;
        color: #333;
    }
    h1, h2, h3 { margin: 0; }
    button { cursor: pointer; }

    /* ---------- HEADER ---------- */
    header {
        background-color: #222;
        color: white;
        padding: 20px;
        text-align: center;
        position: relative;
    }
    .cart-icon {
        position: absolute;
        right: 28px;
        top: 22px;
        background: #222;
        padding: 12px;
        border-radius: 50%;
        color: white;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: background 0.3s, transform 0.3s;
    }
    .cart-icon:hover { background: #444; transform: scale(1.08); }
    .cart-icon svg { width: 1.7em; height: 1.7em; stroke-width: 1.1; }
    .cart-count {
        background: #fff;
        color: #222;
        font-weight: bold;
        font-size: 1em;
        border-radius: 50%;
        padding: 2px 8px;
        min-width: 18px;
        text-align: center;
        box-shadow: 0 1px 4px rgba(44,37,29,0.09);
    }

    /* ---------- CART POPUP ---------- */
    .cart-popup {
        position: fixed;
        top: 70px;
        right: 30px;
        background-color: #fff;
        border: 2px solid #e9e3d6;
        padding: 24px;
        width: 340px;
        display: none;
        box-shadow: 0 8px 32px rgba(44,37,29,0.13), 0 2px 12px rgba(188,156,74,0.13);
        z-index: 1000;
        border-radius: 18px;
    }
    .cart-popup h3 { color: #bc9c4a; margin-bottom: 12px; font-size: 1.13em; }
    .cart-popup ul { list-style: none; padding: 0; margin: 0; max-height: 210px; overflow-y: auto; }
    .cart-popup li {
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom: 1px solid #eee;
        padding: 10px 0;
        gap: 12px;
    }
    .cart-popup .product-img {
        width: 48px;
        height: 48px;
        border-radius: 9px;
        object-fit: cover;
        box-shadow: 0 1px 4px rgba(44,37,29,0.09);
    }
    .cart-popup .product-details { flex: 1; padding-left: 8px; }
    .cart-popup .product-name { font-weight: 600; font-size: 1em; color: #222; }
    .cart-popup .product-price { font-size: 0.95em; color: #bc9c4a; }
    .cart-popup .quantity-controls {
        display: flex;
        align-items: center;
        gap: 5px;
        margin-top: 6px;
    }
    .cart-popup .quantity-btn {
        background: #bc9c4a;
        color: #fff;
        border: none;
        border-radius: 7px;
        font-size: 1em;
        padding: 2px 8px;
    }
    .cart-popup .quantity-btn:hover { background: #222; }
    .cart-popup .remove-btn {
        background: #fff;
        color: #d95555;
        border: 1.5px solid #d95555;
        border-radius: 7px;
        font-size: 0.95em;
        padding: 2px 8px;
    }
    .cart-popup .remove-btn:hover { background: #d95555; color: #fff; }
    .cart-popup .cart-total {
        text-align: right;
        font-weight: bold;
        font-size: 1.13em;
        color: #bc9c4a;
        margin-top: 12px;
    }
    .cart-popup .checkout-btn {
        background: #bc9c4a;
        color: #fff;
        padding: 12px 0;
        font-size: 1.07em;
        border: none;
        border-radius: 11px;
        width: 100%;
        margin-top: 16px;
        cursor: pointer;
    }
    .cart-popup .checkout-btn:hover { background: #222; }

    /* ---------- PRODUCT DETAIL ---------- */
    .product-detail {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        flex-wrap: wrap;
        padding: 50px;
        gap: 30px;
        background: #fff;
        max-width: 1000px;
        margin: 40px auto;
        border-radius: 16px;
        box-shadow: 0 2px 12px rgba(44,37,29,0.07);
    }
    .product-detail img {
        width: 300px;
        border-radius: 12px;
    }
    .product-info { max-width: 500px; }
    .product-info h2 { margin-bottom: 12px; color: #222; }
    .product-info .price { font-size: 1.35em; color: #bc9c4a; font-weight: bold; margin-bottom: 12px; }
    .product-info .stock {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 12px;
        color: #fff;
        font-weight: 600;
        margin-bottom: 15px;
    }
    .stock.in { background: #4CAF50; }
    .stock.out { background: #d95555; }
    .product-info p { margin-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { padding: 10px; text-align: left; border: 1px solid #ccc; }

    /* ---------- ADD TO CART ---------- */
    .add-to-cart {
        background-color: black;
        color: white;
        font-size: 16px;
        font-weight: bold;
        padding: 12px 25px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        text-transform: uppercase;
        margin-top: 20px;
    }
    .add-to-cart:hover { background-color: #444; }
    .added-feedback {
        display: inline-block;
        margin-left: 10px;
        color: #bc9c4a;
        font-weight: 600;
        animation: fadeOut 2s forwards;
    }
    @keyframes fadeOut {
        0% { opacity: 1; }
        100% { opacity: 0; }
    }

    /* ---------- FOOTER ---------- */
    footer {
        text-align: center;
        padding: 18px 0;
        background: #222;
        color: white;
        margin-top: 40px;
    }

    /* ---------- RESPONSIVE ---------- */
    @media (max-width: 900px) { .product-detail { flex-direction: column; padding: 20px; } .product-detail img { margin-bottom: 20px; } }
</style>
</head>
<body>

<header>
    <h1>Lemongrass Diffuser</h1>
    <div class="cart-icon" id="cart-icon" title="View Cart">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M6 6h15l-1.5 9h-12l-1.5-9z" stroke="currentColor" stroke-width="1.1"/>
            <circle cx="9" cy="21" r="1.1" stroke="currentColor" stroke-width="1.1"/>
            <circle cx="18" cy="21" r="1.1" stroke="currentColor" stroke-width="1.1"/>
        </svg>
        <span class="cart-count" id="cart-count">0</span>
    </div>
</header>

<section class="product-detail">
    <img src="images/lemongrass-diffuser.jpg" alt="Lemongrass Diffuser">
    <div class="product-info">
        <h2>Lemongrass Diffuser</h2>
        <div class="price">R199</div>
        <span class="stock in">In Stock: 20</span>
        <p><strong>Best for:</strong> Living room, office, or kitchen for a refreshing, energizing aroma.</p>
        <p><strong>Ingredients:</strong> Lemongrass, Citrus, Green Tea.</p>
        <p><strong>Where to Use:</strong> Ideal for brightening up your living space, office, or kitchen with a fresh, invigorating scent.</p>
        <table>
            <tr><th>Ingredient</th><th>Size</th><th>What's in the Box</th></tr>
            <tr><td>Lemongrass, Citrus, Green Tea</td><td>230ml</td><td>1 Diffuser, 1 Bottle of Fragrance Oil, 5 Reeds</td></tr>
        </table>
        <button class="add-to-cart" onclick="addToCart('Lemongrass Diffuser', 199, 'images/lemongrass-diffuser.jpg')">Add to Cart</button>
        <span class="added-feedback" id="added-feedback" style="display:none;">Added!</span>
    </div>
</section>

<div id="cart-popup" class="cart-popup">
    <h3>Your Cart</h3>
    <ul id="cart-items"></ul>
    <div class="cart-total" id="cart-total"></div>
    <button class="checkout-btn" onclick="checkout()">Proceed to Checkout</button>
</div>

<footer>
    <p>&copy; 2025 Zenscents. All Rights Reserved.</p>
</footer>

<script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    function addToCart(name, price, imgSrc) {
        let existing = cart.find(item => item.name === name);
        if (existing) { existing.quantity += 1; } 
        else { cart.push({name, price, imgSrc, quantity: 1}); }

        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartPopup();

        // Show feedback
        let feedback = document.getElementById('added-feedback');
        feedback.style.display = 'inline-block';
        setTimeout(()=>{ feedback.style.display = 'none'; }, 1500);
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartPopup();
    }

    function increaseQuantity(index) {
        cart[index].quantity += 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartPopup();
    }

    function decreaseQuantity(index) {
        if(cart[index].quantity > 1) { cart[index].quantity -= 1; }
        else { removeFromCart(index); return; }
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        updateCartPopup();
    }

    function updateCartCount() {
        let cartCount = cart.reduce((sum,item)=>sum+item.quantity,0);
        document.getElementById('cart-count').innerText = cartCount;
    }

    function updateCartPopup() {
        let cartItems = document.getElementById('cart-items');
        cartItems.innerHTML = '';
        let total = 0;
        if(cart.length === 0){
            cartItems.innerHTML = '<li style="text-align:center;color:#aaa;">Your cart is empty.</li>';
        }
        cart.forEach((item,index)=>{
            total += item.price*item.quantity;
            let li = document.createElement('li');
            li.innerHTML = `<img src="${item.imgSrc}" class="product-img" alt="${item.name}">
            <div class="product-details">
                <span class="product-name">${item.name}</span>
                <div class="product-price">R${item.price} x ${item.quantity}</div>
                <div class="quantity-controls">
                    <button class="quantity-btn" onclick="decreaseQuantity(${index})">-</button>
                    <span>${item.quantity}</span>
                    <button class="quantity-btn" onclick="increaseQuantity(${index})">+</button>
                    <button class="remove-btn" onclick="removeFromCart(${index})">Remove</button>
                </div>
            </div>`;
            cartItems.appendChild(li);
        });
        document.getElementById('cart-total').innerText = cart.length ? "Total: R" + total.toFixed(2) : '';
    }

    document.getElementById('cart-icon').addEventListener('click', ()=>{
        let popup = document.getElementById('cart-popup');
        popup.style.display = popup.style.display==='block'?'none':'block';
        if(popup.style.display==='block') updateCartPopup();
    });

    function checkout(){ window.location.href='checkout.html'; }

    updateCartCount();
    updateCartPopup();
</script>

</body>
</html>
